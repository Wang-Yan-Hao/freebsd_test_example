# geli

This test suite is complex and offers valuable insights.

## Makefile

1. Library Inclusion:
    a. This test focuses on crypto-related functionality, so it uses `.PATH:` to locate crypto-related files.
    b. `LIBADD` is used to specify the required libraries for a specific file (e.g., pbkdf2_test).
2. Other file keyword:
    a. `${PACKAGE}FILES+=` is used to include common shell files in various tests.
    b. `PROGS+=` is employed to common C files across different tests. `BINDIR?=` defines the file location.
    c. Additional files and their generation, such as using Python:
    ```
    testvect.h:
        python gentestvect.py > ${.TARGET}
    ```
3. Compilation:
    a. `CFLAGS` specifies compilation flags (for linking to other directories during compilation).
    b. `SRCS` dentifies the C files to be compiled for a specific test (e.g., pbkdf2_test).

## pbkdf2_test.c

This file will be compiled based on the following specifications in the Makefile:

```
CFLAGS.pbkdf2_test=	-I${SRCTOP}/sys

SRCS.pbkdf2_test=	\
		hmac_test.c \
		g_eli_crypto.c \
		g_eli_hmac.c \
		pkcs5v2.c \
		sha512c.c \
		sha256c.c
```

## conf.sh

conf.sh contains common shell functions that are used across various tests. It use atf function so it set `ATF_TEST=True` to use it.

## gentestvect.py

This Python script, gentestvect.py, is responsible for generating `testvect.h`. It is typically generated by the editor itself and in this case `testvect.h` is included in `hmac_test.c`.

## unaligned_io.c

`unaligned_io.c` is a common C file used in test. In this case, it is only used in the `misc_test.sh` script for the `unaligned_io_test` function.

